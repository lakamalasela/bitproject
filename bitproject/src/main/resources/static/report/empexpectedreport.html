<!DOCTYPE html>
<html lang="en">
<head>
    <title>Ceylon Engineering : Emp-Working Progress Report</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="../resources/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../resources/bootstrap/css/font-awesome.min.css">

    <link rel="icon" href="../resources/image/cnew.jpg" type="image/x-icon">

    <!-- google fonts-->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lobster&display=swap" rel="stylesheet">

    <!--google fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">


    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lobster&family=Merriweather+Sans:wght@500&display=swap" rel="stylesheet">

    <link href='../resources/style/clock.css' rel='stylesheet' />
    <script src='../resources/script/clock.js'></script>

    <style>

        .table-container {
            width: auto;
            overflow-x: scroll !important;
        }

        .tooltip-inner {
            background-color: #f00;
        }
    </style>



    <script defer src="../resources/fontawesome/js/solid.js"></script>
    <script defer src="../resources/fontawesome/js/fontawesome.js"></script>


    <script src="../resources/jquery/jquery-3.4.1.min.js"></script>
    <script src="../resources/jquery/jquery.mCustomScrollbar.concat.min.js"></script>
    <script src="../resources/jquery/popper.min.js"></script>
    <script src="../resources/bootstrap/js/bootstrap.bundle.min.js"></script>

    <script src="../resources/script/commonreport.bitproject.js"></script>
    <script src="../resources/script/mainWindowreport.js"></script>
    <script src="../resources/chart/Chart.js"></script>



    <!--select2-->
    <link rel="stylesheet" href="../resources/select2/css/select2.min.css">
    <script src="../resources/select2/js/select2.min.js"></script>

    <link rel="stylesheet" href="../resources/style/home.css">
    <link rel="stylesheet" href="../resources/style/common.css">
    <link rel="stylesheet" href="../resources/style/side4.css">
    <script src="../resources/script/sweetalert.min.js"></script>
    <link rel="stylesheet" href="../resources/style/customer.css">
    <!--    <script src="resources/jquery/jquery-3.3.1.slim.min.js"></script>-->

    <style>
        .Reeqcmbsearch .select2-container{
            width: 274px !important;
            height: 38px !important;
        }
        .Reeqcmbsearch .select2-selection{
            width: 274px !important;
            height: 38px !important;
            padding: 3px !important;
        }
    </style>

</head>
<body>

<div class="wrapper">
    <!-- Sidebar  -->

    <nav id="sidebar" style="background-image: linear-gradient(rgba(0, 0, 0, 0.870),rgba(49, 183, 170, 0.75)) ,url('../resources/image/ver.jpg')">
        <div class="sidebar-header">

            <h3><img class="cnew" src="../resources/image/cnew.jpg"><span>Ceylon Engineering</span> </h3>
            <strong><img class="cnew" src="../resources/image/cnew.jpg"></strong>
        </div>

        <ul class="list-unstyled components">
            <li>
                <a href="http://localhost:8080/mainwindow" data-toggle="collapse" aria-expanded="false">
                    <i class="fas fa-tachometer-alt"></i><span class="viewPara"> &nbsp;Dashboard</span>
                </a>

            </li>

            <li>
                <a href="http://localhost:8080/user">
                    <i class="fas fa-user-cog"></i><span class="viewPara">&nbsp; User</span>
                </a>
            </li>

            <li>
                <a href="http://localhost:8080/privilage">
                    <i class="fas fa-user-shield"></i><span class="viewPara">&nbsp; Privilege</span>
                </a>
            </li>

            <li>
                <a  href="#customerSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                    <i class="fas fa-user-tie"></i> <span class="viewPara"> &nbsp;Customer</span>
                </a>
                <ul class="collapse list-unstyled" id="customerSubmenu">
                    <li>
                        <a href="http://localhost:8080/customer"><i class="fas fa-user-plus"></i> Customer Add</a>
                    </li>
                    <li>
                        <a href="http://localhost:8080/cuspayment"><i class="fas fa-hand-holding-usd"></i> Customer Payment</a>
                    </li>
                    <li>
                        <a href="http://localhost:8080/rprogress"><i class="fas fa-book"></i> Reservation Progress</a>
                    </li>


                </ul>
            </li>

            <li>

                <a href="#serviceSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                    <i class="fas fa-briefcase"></i><span class="viewPara"> &nbsp;Service</span>
                </a>
                <ul class="collapse list-unstyled" id="serviceSubmenu">
                    <li>
                        <a href="http://localhost:8080/service"><i class="fas fa-concierge-bell"></i> Main Services Add</a>
                    </li>
                    <li>
                        <a href="http://localhost:8080/plan"><i class="fas fa-ruler-combined"></i> Service Plan</a>
                    </li>

                </ul>
            </li>



            <li>
                <a  href="#reservationSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                    <i class="fas fa-book-open"></i> <span class="viewPara"> &nbsp;Reservation</span>
                </a>
                <ul class="collapse list-unstyled" id="reservationSubmenu">
                    <li>
                        <a href="http://localhost:8080/reservation"><i class="fas fa-sticky-note"></i> Reservation Add</a>
                    </li>
                    <li>
                        <a href="http://localhost:8080/designerassign"><i class="fas fa-user-edit"></i> Designer Add</a>
                    </li>
                    <li>
                        <a href="http://localhost:8080/qsassign"><i class="fas fa-user-plus"></i> QS Add</a>
                    </li>

                </ul>
            </li>
            <li>
                <a href="http://localhost:8080/estimation">
                    <i class="fas fa-pencil-ruler"></i><span class="viewPara">&nbsp; Estimation</span>
                </a>
            </li>
            <li>
                <a href="http://localhost:8080/bsr">
                    <i class="fas fa-pencil-ruler"></i><span class="viewPara">&nbsp; BSR</span>
                </a>
            </li>
            <li>
                <a  href="#equipmentSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                    <i class="fas fa-tools"></i> <span class="viewPara"> &nbsp;Equipment</span>
                </a>
                <ul class="collapse list-unstyled" id="equipmentSubmenu">
                    <li>
                        <a href="http://localhost:8080/equipment"><i class="fas fa-toolbox"></i></i> Equipmet Add</a>
                    </li>
                    <li>
                        <a href="http://localhost:8080/eqshiftment"><i class="fas fa-toolbox"></i> Equipment Shiftment</a>
                    </li>
                    <li>
                        <a href="http://localhost:8080/eqinventory"><i class="fas fa-toolbox"></i> Equipment Inventory</a>
                    </li>

                </ul>
            </li>

            <li>
                <a  href="#employeeSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                    <i class="fas fa-id-card"></i> <span class="viewPara"> &nbsp;Employee</span>
                </a>
                <ul class="collapse list-unstyled" id="employeeSubmenu">
                    <li>
                        <a href="http://localhost:8080/employee"><i class="fas fa-id-card-alt"></i></i> Employee Add</a>
                    </li>
                    <li>
                        <a href="http://localhost:8080/empshiftment"><i class="fas fa-users-cog"></i> Employee Shiftment</a>
                    </li>


                </ul>
            </li>


            <li>
                <a  href="#reportSubmenu" data-toggle="collapse" aria-expanded="false" class="dropdown-toggle">
                    <i class="fas fa-book"></i> <span class="viewPara"> &nbsp;Reports</span>
                </a>
                <ul class="collapse list-unstyled" id="reportSubmenu">

                    <li>
                        <a href="http://localhost:8080/report/cusarrears"><i class="fas fa-users-cog"></i> Customer Arrears Report</a>
                    </li>

                    <li>
                        <a href="http://localhost:8080/report/noassignemp"><i class="fas fa-id-card-alt"></i></i> Available Employee Report</a>
                    </li>
                    <li>
                        <a href="http://localhost:8080/report/empworkingusage"><i class="fas fa-users-cog"></i> Employee Working Progress Report</a>
                    </li>

                    <li>
                        <a href="http://localhost:8080/report/expemp"><i class="fas fa-users-cog"></i> Expected Employee Report</a>
                    </li>


                    <li>
                        <a href="http://localhost:8080/report/eqallocation"><i class="fas fa-toolbox"></i> Expected Equipment Available Report</a>
                    </li>


                </ul>
            </li>



        </ul>


    </nav>




    <!-- Page Content  -->
    <div id="content">

        <nav class="navbar navbar-expand-lg navbar-dark bg-dark justify-content-between"  data-spy="affix" data-offset-top="197" style="padding: 8px 8px;">
            <div class="container-fluid">
                <div class="float-left">
                    <button type="button" id="sidebarCollapse" class="btn btn-info">
                        <i class="fas fa-align-left"></i>
                        <span></span>
                    </button>

                    <button type="button" class="btn btn-info ml-3">
                        <a href="http://localhost:8080/mainwindow"> <i class="fa fa-home"></i></a>
                        <span></span>
                    </button>


                    <!-- Modal -->
                    <div class="modal fade" id="privilegeSet" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content">
                                <div class="modal-header" style="background-color: #bae0f1;">
                                    <h5 class="modal-title ceylonLog" style="color:#232348;"  id="exampleModalLongTitle">Choose the Main Modules</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body" style="border-radius: 10px !important;padding: 26px;background-image: linear-gradient(rgba(255, 248, 248, 0.640),rgba(247, 237, 237, 0.80)) ,url('../resources/image/exc.jpg')">
                                    <!--start ul-->
                                    <!--card start-->
                                    <div class="card mainBlock">
                                        <div class="card-body" style="padding: 26px;background-image: linear-gradient(rgba(255, 248, 248, 0.640),rgba(247, 237, 237, 0.80)) ,url('../resources/image/exc.jpg')">
                                            <div class="row">
                                                <div class="col-md-4 block_other">
                                                    <div class="text-center emp"
                                                         onclick="window.location.assign('http://localhost:8080/employee')">
                                                        <div class="card"   style="cursor: pointer;">
                                                            <div class="card-header text-center" style="font-size:60px;color:#fff;background-color:#343a40;">
                                                                <i class="fas fa-user-friends"></i>
                                                            </div>
                                                            <div class="card-body text-center" style="background-color: rgba(29,85,211,0.4);">
                                                                <span style="font-weight: 600;font-size: 16px">Employee</span>

                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                                <div class="col-md-4 block_other">
                                                    <div class="text-center emp"
                                                         onclick="window.location.assign('http://localhost:8080/user')">
                                                        <div class="card"   style="cursor: pointer;">
                                                            <div class="card-header text-center" style="font-size:60px;color:#fff;background-color:#343a40;">
                                                                <i class="fas fa-user"></i>
                                                            </div>
                                                            <div class="card-body text-center" style="background-color: rgba(29,85,211,0.4);">
                                                                <span style="font-weight: 600;font-size: 16px">USER</span>

                                                            </div>
                                                        </div>


                                                    </div>
                                                </div>
                                                <div class="col-md-4 block_other">
                                                    <div class="text-center"
                                                         onclick="window.location.assign('http://localhost:8080/privilage')">
                                                        <div class="card"   style="cursor: pointer;">
                                                            <div class="card-header text-center" style="font-size:60px;color:#fff;background-color:#343a40;">
                                                                <i class="fas fa-user-lock"></i>
                                                            </div>
                                                            <div class="card-body text-center" style="background-color: rgba(29,85,211,0.4);">
                                                                <span style="font-weight: 600;font-size: 16px">Privilege</span>

                                                            </div>
                                                        </div>

                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>







                                    <!--card end  -->


                                </div>

                            </div>
                        </div>
                    </div>
                    <!--modal end-->

                    <!--employee,userprivilege start -->
                    <button type="button" style="height: 38px;" class="btn btn-info ml-3 p-0" data-toggle="modal" data-target="#privilegeSet">
                        <a class="nav-link justify-content-center"  href="#"><i
                                class="fa fa-th"></i> </a>

                    </button>




                    <!--employee,user,privilege -->


                </div>

                <div class="AnimateShadow">
                    <h2 class="ceylonHead"> <i class="fas fa-building mr-2 animatesymboll"></i>Ceylon Engineering </h2>
                </div>

                <div id="clockdate">
                    <div class="clockdate-wrapper">
                        <div id="clock"></div>
                        <div id="date"></div>
                    </div>
                </div>

                <div class="float-right" style="margin-top: 10px">
                    <p class="font-weight-bold text-white ceylonLog"> Loged as : <a href="#" class="badge badge-success"><span id="spnDesignation"> </span></a></p>
                </div>
                <form class="form-inline my-2 my-lg-0 mr-2 float-right">

                    <div class="collapse navbar-collapse" id="navbarNavDropdown">
                        <ul class="navbar-nav ">
                            <li class="nav-item dropdown">
                                <a class="nav-link dropdown-toggle" style="width: 160px" href="#"
                                   id="navbarDropdownMenuLink" data-toggle="dropdown" aria-haspopup="true"
                                   aria-expanded="false">
                                    <img id="profileImage" class="profileImage">
                                    <p class="loggedUserNameField d-inline" id="lblLogUser">123456</p>
                                </a>
                                <div class="dropdown-menu" aria-labelledby="navbarDropdownMenuLink" style="width: 189px;">
                                    <a class="dropdown-item" href="#"><i class="far fa-sliders-v"></i> View Profile</a>
                                    <a class="dropdown-item" href="#" data-toggle="modal"
                                       data-target="#settingsModal"><i class="far fa-sliders-v"></i> Change Password</a>
                                    <a class="dropdown-item" href="#" onclick="btnSignoutMC()"><i
                                            class="fas fa-sign-out-alt"></i> Sign Out</a>
                                </div>
                            </li>
                        </ul>
                    </div>


                </form>
            </div>

        </nav>
        <!-- Content -->
        <div class="container-fluid dashbordbody p-0">

            <div class="row" id="ui">
                <div class="col-md-12">
                    <div class="card cardstyle bg-info">
                        <div class="card-header text-left cardhead">
                            <h2 class="ceylonLog cardForheader"><img class="cnew" src="../resources/image/cnew.jpg">Expected Employee Report</h2>
                        </div>

                        <div class="card-body" style="background-image: linear-gradient(rgba(255, 248, 248, 0.640),rgba(247, 237, 237, 0.80)) ,url('../resources/image/exc.jpg')">
                            <div class="row mb-3">
                                <div class="col-md-4">
                                    <button class="btn btn-primary" id="generateId" onclick="generateReport();">Generate Report</button>

                                </div>
                                <div class="col-md-4">
                                    <button class="btn btn-primary" id="generateClearId" onclick="clearReport();">Clear Report</button>

                                </div>
                                <div class="col-md-4 Reeqcmbsearch">
                                    <div class="form-group">
                                        <label for="expDate" class="eqset ceylonLog"><b>Date : <span style="color: red;">*</span></b></label>
                                        <div class="input-group flex-nowrap">
                                            <span class="input-group-text"><i class="fas fa-calendar-check"></i></span>
                                            <input type="datetime-local" id="expDate" onchange="getColorDate();"  class="form-control" data-toggle="tooltip" title="Insert the Start date" data-placement="bottom">

                                        </div>
                                        <small  class="form-text text-muted">Choose the Date.</small>
                                    </div>

                                </div>
                            </div>



                            <ul class="nav nav-tabs mb-2">
<!--                                <li class="nav-item ceylonLog" onclick="changeTab('form')">-->
<!--                                    <a class="nav-link active" id="tbForm" href="#">Chart View</a>-->
<!--                                </li>-->
                                <li class="nav-item ceylonLog" onclick="changeTab('table')">
                                    <a class="nav-link active" id="tbTable" href="#">Table View</a>
                                </li>
                            </ul>


                            <div class="row p-3 formcontent" id="divTable">
                                <div class="container-fluid">
                                    <div class="row">
                                        <div class="col-md-9">


                                            <button class="btn btn-info ceylonLog" id="btnPrintTable" onclick="btnPrintTableMC()"><i class='fas fa-print mr-2'></i>Print Table</button>

                                        </div>
                                        <div class="col-md-3">


                                        </div>
                                    </div>



                                </div>


                                <hr/>
                                <div class="table-responsive" id="tableParent" class="table-container ml-2">

                                    <script>

                                        function getNameColumn(ob) {
                                            return ob.callingname + "(" + ob.number + ")";
                                        }

                                        var metadata = [
                                            {name: 'Reservation Code', search: true, datatype: 'text', property: 'reservationcode'},
                                            {name: 'Employee Number', search: true, datatype: 'text', property: 'number'},
                                            {name: 'Expected Date & Time', search: true, datatype: 'text', property: 'expectedremovedatetime'},



                                        ];
                                        table("tableParent", "tblExpemp", metadata, false);

                                    </script>


                                </div>

                                <!--                                <div>-->
                                <!--                                    <div style="display: inline-block ; float: left">-->
                                <!--                                        <select class="form-control input" id="cmbPageSize"-->
                                <!--                                                style="width: 80px;">-->
                                <!--                                            <option selected value="5">5</option>-->
                                <!--                                            <option value="10">10</option>-->
                                <!--                                            <option value="15">15</option>-->
                                <!--                                            <option value="20">20</option>-->

                                <!--                                        </select>-->
                                <!--                                        <script>-->
                                <!--                                            cmbPageSize.onchange = function chnagePageSize() {-->
                                <!--                                                activepage = 1;-->
                                <!--                                                //btnSearchMC();-->
                                <!--                                            };-->
                                <!--                                        </script>-->
                                <!--                                    </div>-->
                                <!--                                    <div style="display: inline-block; margin-left: 10px;">-->
                                <!--                                        <ul id="pagination" class="pagination"></ul>-->
                                <!--                                    </div>-->
                                <!--                                </div>-->
                            </div>


                        </div>

                        <div class="card-footer">
                            <!--                            <div id="err">-->
                            <!--                                <h3>Error Log</h3>-->
                            <!--                            </div>-->
                        </div>

                    </div>

                </div>
            </div>


        </div>

    </div>
</div>



<script>
    // changeTab('form');
    initial = "2px solid #d6d6c2";
    loadReportUI();



    function loadReportUI(){

       // expDate.value = "";
        expDate.style.border = initial;


        tblExpemp.children[1].innerHTML = "";

        expDate.min = getCurrentDateTime('datetime');
        var endtoday = new Date();
        var nextweek = new Date();

        nextweek.setDate(endtoday.getDate()+365);

        let getEndMonth = nextweek.getMonth()+1;
        if(getEndMonth<10){
            getEndMonth = "0"+getEndMonth;
        }

        let getEnddate = nextweek.getDate();
        if(getEnddate<10){
            getEnddate = "0"+getEnddate;
        }
        let hours = nextweek.getHours();
        if(hours<10){
            hours = "0"+hours;
        }

        let minutes = nextweek.getMinutes();
        if(minutes<10){
            minutes = "0"+minutes;
        }

        let seconds = nextweek.getSeconds();
        if(seconds<10){
            seconds = "0"+seconds;
        }

        expDate.max = nextweek.getFullYear()+"-"+getEndMonth+"-"+getEnddate+"T"+hours+":"+minutes+":"+seconds;

        expDate.value = "";

        if(tblExpemp.children[2] != undefined ){
            tblExpemp.children[2].innerHTML = "";
            tblExpemp.removeChild(tblExpemp.children[2])
        }


        if(session.getObject("activeuser").employeeId.designationId.name == "Admin" || session.getObject("activeuser").employeeId.designationId.name == "Supervisor"){
            generateId.disabled = false;
            $('#generateId').css('cursor','pointer');
            generateClearId.disabled = false;
            $('#generateClearId').css('cursor','pointer');
            btnPrintTable.disabled = false;
            $('#btnPrintTable').css('cursor','pointer');
            expDate.disabled = false;

        }else{
            generateId.disabled = true;
            $('#generateId').css('cursor','not-allowed');
            generateClearId.disabled = true;
            $('#generateClearId').css('cursor','not-allowed');
            btnPrintTable.disabled = true;
            $('#btnPrintTable').css('cursor','not-allowed');
            expDate.disabled = true;


        }

    }

    function clearReport(){


        swal({
            title: "Are you sure to clear the Report ?",
            text: " \n",
            icon: "warning",
            buttons: true,
            dangerMode: true,
        }).then((willDelete) => {
            if (willDelete) {
                loadReportUI();

            }
        });
    }


    //print table
    function btnPrintTableMC(){
        var newwindow=window.open();
        formattab = tblExpemp.outerHTML;

        newwindow.document.write("" +
            "<html>" +
            "<head><style type='text/css'>.google-visualization-table-th {text-align: left;} .modifybutton{display: none} .isort{display: none}</style>" +
            "<link rel='stylesheet' href='../resources/bootstrap/css/bootstrap.min.css'/></head>" +
            "<body><div style='margin-top: 150px; '><div class='row'><div class='col-md-8'><div class='row'><div class='col-md-3 text-right'><img class='cnew' src='../resources/image/cnew.jpg'></div><div class='col-md-9 text-left'><h1><span>Construction Of Ceylon Engineering</span></h1></div></div></div><div class='col-md-4 text-right'> <address style='font-weight: 600'>Construction of Ceylon Engineering<br>\n" +
            "16/C Aviriya Rd,<br>\n" +
            "Alubomulla,<br>\n" +
            "Panadura.\n" +
            "<h6>Tel: 0777343425|0777353526</h6>"+
            "</address></div></div><hr> </div>" +
            "<div> <h2>Expected Employee Report : </h2></div>"+
            "<div>"+ formattab+"</div>"+
            "</body>" +
            "</html>");
        setTimeout(function () {newwindow.print(); newwindow.close();},100) ;
    }

    function getColorDate(){
        expDate.style.border = valid;
    }


    function generateReport(){

        if(expDate.value !=""){
            var expemps = httpRequest("/explabor/explanorlist?expdate="+expDate.value,"GET");





            var expemployees = new Array();


            var chartLables = new Array();
            var chartData = new Array();


            for(var index in expemps){

                var emplist = new Object();

                emplist.id =  expemps[index][0];
                emplist.reservationcode =  expemps[index][1];
                emplist.number =  expemps[index][2];
                emplist.expectedremovedatetime =  expemps[index][3];

                expemployees.push(emplist);


            }
            fillTable('tblExpemp',expemployees,fillForm,btnDeleteMC,viewitem);



            function fillForm(){}
            function btnDeleteMC(){}
            function viewitem(){}
        }else{
            swal({
                title: "Select the expected date..!",
                text: "\n",
                icon: "warning",
                buttons: false,
                timer:1500

            });
        }







    }



    function printChart(){
        // var format = printformtable.outerHTML;

        // var newwindow=window.open();
        // newwindow.document.write("<html>" +
        //     "<head><style type='text/css'>.google-visualization-table-th {text-align: left;}</style>" +
        //     "<link rel='stylesheet' href='../resources/bootstrap/css/bootstrap.min.css'/>"+
        //     "</head>" +
        //
        //     "<body><div style='margin-top: 150px'><h1><img class='cnew' src='../resources/image/cnew.jpg'><span>Available Equipment Report :</span> </h1></div>" +
        //     "<div><img src='"+myChart.toBase64Image()+"'></div>" +
        //     "</body></html>");
        // setTimeout(function () {newwindow.print();},100);

        var newwindow=window.open();
        newwindow.document.write("<html>" +
            "<head><style type='text/css'>.google-visualization-table-th {text-align: left;}</style>" +
            "<link rel='stylesheet' href='../resources/bootstrap/css/bootstrap.min.css'/>"+
            "</head>" +

            "<body><div style='margin-top: 150px'><div class='row'><div class='col-md-8'><div class='row'><div class='col-md-3 text-right'><img class='cnew' src='../resources/image/cnew.jpg'></div><div class='col-md-9 text-left'><h1><span>Construction of Ceylon Engineering</span> </h1></div></div></div><div class='col-md-4 text-right'><address style='font-weight: 600'>Construction of Ceylon Engineering<br>\n" +
            "16/C Aviriya Rd,<br>\n" +
            "Alubomulla,<br>\n" +
            "Panadura.\n" +
            "<h6>Tel: 0777343425|0777353526</h6>"+
            "</address></div></div><hr> <div class='row'><div class='col-md-12 text-left'><h3>Employee Working Progress Report :</h3></div></div></div>" +
            "<div class='text-center pt-2'><img src='"+myChart.toBase64Image()+"'></div>" +
            "</body></html>");
        setTimeout(function () {newwindow.print();},100);


    }

</script>

<div class="overlay"></div>

<!-- Settings Modal-->
<div class="modal fade" id="settingsModal" tabindex="-1" role="dialog"
     aria-labelledby="settingsModal" aria-hidden="true">
    <div class="modal-dialog modal-lg modal-dialog-centered" role="document">
        <div class="modal-content" id="modalContent">
            <div class="modal-header">
                <h5 class="modal-title" id="modalTitle"><i
                        class="fas fa-cog"></i> Settings</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">

                <form id="changePasswordForm" onsubmit="return false">
                    <div class="form-row">
                        <!-- Username -->
                        <div class="form-group col-md-12">
                            <label for="txtUsernameView" class="text-blue">
                                <b>Username</b>
                            </label>
                            <div readonly class="form-control-plaintext"
                                 id="txtUsernameView"></div>
                        </div>
                    </div>
                    <div class="form-row">
                        <!-- Current Password -->
                        <div class="form-group col-md-12">
                            <label for="txtCurrentPassword"
                                   class="text-blue"><b>Current Password</b> <i
                                    class="fas fa-question-circle text-primary ml-1"
                                    data-toggle="tooltip" data-placement="right"
                                    title=""></i></label>
                            <input type="password"
                                   class="form-control form-control-sm changePasswordFields"
                                   id="txtCurrentPassword"
                                   onkeyup="textFieldBinder(txtCurrentPassword, '^[0-9]{5,}$', 'changePassword', 'currentPassword', 'oldChangePassword')">
                        </div>
                    </div>
                    <div class="form-row">
                        <!-- New Password -->
                        <div class="form-group col-md-12">
                            <label for="txtNewPassword" class="text-blue"><b>New
                                Password</b><i
                                    class="fas fa-question-circle text-primary ml-1"
                                    data-toggle="tooltip" data-placement="right"
                                    title=""></i></label>
                            <input type="password"
                                   class="form-control form-control-sm changePasswordFields"
                                   id="txtNewPassword"
                                   onkeyup="passwordFieldBinder(txtNewPassword, txtConfirmPassword, '^[0-9]{5,}$', 'changePassword', '', 'oldChangePassword')">
                        </div>
                    </div>
                    <div class="form-row">
                        <!-- Confirm Password -->
                        <div class="form-group col-md-12">
                            <label for="txtConfirmPassword"
                                   class="text-blue"><b>Confirm
                                Password</b><i
                                    class="fas fa-question-circle text-primary ml-1"
                                    data-toggle="tooltip" data-placement="right"
                                    title=""></i></label>
                            <input type="password"
                                   class="form-control form-control-sm changePasswordFields"
                                   id="txtConfirmPassword"
                                   onkeyup="passwordFieldBinder(txtNewPassword, txtConfirmPassword, '^[0-9]{5,}$', 'changePassword', 'newPassword', 'oldChangePassword')">
                        </div>
                    </div>
                </form>


            </div>
            <div class="modal-footer">
                <button type="button" id="brnClosechnagepasswordmodle" class="btn btn-secondary" data-dismiss="modal">
                    Close
                </button>
                <button type="button" class="btn btn-primary"
                        onclick="btnSaveChangePasswordMC()">Save changes
                </button>
            </div>
        </div>
    </div>
</div>

</body>
</html>

